{{Infobox device
| manufacturer = Sony
| name = Xperia Z
| codename = yuga
| image = File:Sony_yuga_weston.jpg
| imagecaption = Sony Xperia Z running Weston
| releaseyear = 2013
| originalsoftware = Android 4.1.2 on Linux 3.0.31
| chipset = Qualcomm APQ8064 Snapdragon S4 Pro
| cpu = Quad-core 1.5 GHz Krait
| gpu = Adreno 320
| storage = 16 GB
| display = 1080x1920 TFT
| memory = 2 GB
}}
=== Contributors ===

* wfranken (porting and testing)
* ollieparanoid (help via IRC)
* ata2001 (help via IRC)
* opendata (help via IRC)

=== Special keycombo's ===

* Boot to bootloader (fastboot): unplug device, hold volume up and plug usb into device
* Reset if stuck: hold volume up and power button till the phone shakes

=== Notification LED information ===

* Constant blue LED: fastboot mode
* Slowly blinking red LED when plugged in: battery cannot hold any charge.
* Blinking red LED when trying to boot: Cannot boot, maybe offsets are wrong?
* Constant red LED on while plugged in: charging

=== Non-standard notes ===

The Xperia Z does not have a recovery partition, so flashing PostmarketOS erases any recovery you have installed.  Instructions across the internet for reinstalling a custom recovery are almost all incorrect.

To install a custom recovery on the Xperia Z:
* put the device in fastboot mode
* run <code>fastboot flash boot recovery.img</code> (replace <code>recovery.img</code> with the filename of your recovery of choice)

This is also the reason why LineageOS boot.img is far larger than postmarketOS boot image (the recovery is inside it).

=== What works ===

* charging
* network through USB
* telnet in initramfs
* ssh
* adjusting the led, torch and the lcd backlight
* display
** Weston
** Xwayland
* touchscreen

=== Known issues ===

* Splash screens don't work
* Launching Weston is delayed by 135 seconds to let udev settle down
* Display works only when running <code>cat /sys/class/graphics/fb0/modes > /sys/class/graphics/fb0/mode</code> after being logged in using SSH.

=== What has not been tested ===

* Bluetooth
* 3G
* Sound
* Phone calls
* SD card
* Wifi

=== Installation procedure ==

Follow the [[Installation guide]].

=== Troubleshooting ===

* If you get a slowly blinking red LED when trying to charge, this could mean your battery does not get charged. You have then have two options:
** Open the back (eg. with a hairdryer) and try to unplug and plug the battery
** If all else fails: buy a new battery

=== Other information ===

* It should be possible to run [[The Mainline Kernel]] on the device. At least there is a <code>dts</code> file already in the 4.14 kernel: <code>arch/arm/boot/dts/qcom-apq8064-sony-xperia-yuga.dts</code>

=== Links ===

* [https://github.com/LineageOS/android_kernel_sony_msm8974 Kernel Source]
