{{Infobox interface
| name = LuneOS UI
| graphics = Wayland
| toolkit = QT5
| image = File:LuneOS Browser.png|Illustration image of LuneOS UI. Not running on pmOS
}}

User interface from LuneOS, a continuation of webOS (Palm/HP's discontinued and open sourced mobile operating system updated with Wayland and QT5). A UI port is under development.[https://github.com/postmarketOS/pmbootstrap/issues/629]


== Current Status ==

[[File:luna_qemu_pmos.png |thumb|left| LuneOS UI running in QEMU]]

The UI currently starts in QEMU, as do all of the core services (luna-sysmgr, luna-prefs, ls-hubd). You currently cannot proceed past the first use app because of missing packages.

Current work can be found in [https://github.com/magmastonealex/pmbootstrap/tree/make-luna-start-properly magmastonealex]'s repository, with some work currently in master.


== Running ==

Install:

* postmarketos-ui-luna
* mesa-dri-virtio (if in QEMU, mesa-dri-swrast otherwise)
* mesa
* mesa-egl

Run, in the same shell:

* ''export LD_PRELOAD=/usr/lib/libwayland-server.so.0''
* ''export QT_QPA_PLATFORM=eglfs''
* ''export QT_QUICK_BACKEND=software''
* ''export QML2_IMPORT_PATH=/''
* ''/usr/sbin/ls-hubd --conf /etc/luna-service2/ls-private.conf & ''
* ''/usr/sbin/ls-hubd --public --conf /etc/luna-service2/ls-public.conf &''
* ''luna-prefs-service -d & ''
* ''LunaSysMgr -l debug &''
* ''LunaSysService -l debug &''
* ''LunaAppManager -t -c -u luna &''
* ''luna-next''

== Major to-dos ==
* Finish packaging coreapps (<s>configurator</s>, <s>activitymanager</s>, <s>db8</s>, <s>firstuseapp</s>, <s>webappmanager</s>)
* Package some more apps (<s>luna-applauncher</s>, <s>luna-systemui</s>, <s>enyo</s>, mojoservicelauncher, luna-universalsearchmanager, app-services, core-apps )
* <s>Getting the mouse to work</s> (qt problem. Set QT_QPA_EGLFS_DISABLE_INPUT=1 & use -plugin evdevmouse:/dev/input/event3 -plugin evdevkeyboard:/dev/input
/event1 to get things working).
* Running this on ARM (Needs a device with hardware acceleration & EGL support)
* Trying to get this running with software rendering (Mesa seems to theoretically support this, though I (magmastonealex) never got it working)
* Getting the HAL working (nyx-lib). (Probably involved, but can support only a couple things at first)
* Create init service files
* More packaging: ''<s>luna-qml-launcher</s>'' are all a start.


[[Category:Interface]]
