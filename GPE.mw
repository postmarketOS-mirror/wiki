== What is the GPE Palmtop Environment? ==

The GPE Palmtop Environment is a GTK+-based user interface for PDA devices. It's similar to OPIE (The Open Palmtop Integrated Environment) or QtMoko. GPE is designed to be extremely lightweight and small in size.

Let's identify some the components of GPE:

; gpe-announce 
: Announcement application
; gpe-appmgr              
: Install/uninstall/update programs
; gpe-calculator          
: Calculator application
; gpe-calendar            
: Calendar application
; gpe-clock               
: Clock application
; gpe-conf                
: Main configuration application
; gpe-contacts            
: Contacts application
; gpe-edit                
: Simple text-editor application
; gpe-expenses            
: Expenses application
; gpe-gallery             
: Image gallery application
; gpe-icons               
: GPE icon set
; gpe-login               
: Display manager for GPE
; gpe-mixer              
: Sound mixer application
; gpe-ownerinfo           
: Display device owner information
; gpe-su                  
: Graphical su application
; gpe-taskmanager         
: Task manager application
; gpe-todo                
: Todo application

Additionally these programs pull in various libraries, an on-screen keyboard, and the designated window manager seems to be Matchbox (in OpenEmbedded Classic). Additionally something like ipkg or opkg was used as package manager typically, and OpenEmbedded was used as a base system by most of the systems that shipped GPE (for instance, see the Ångström distribution).

Furthermore, the last version of Debian that shipped the suite was Wheezy. The project appears to have suffered from a lack of maintainers, a trademark and copyright spat between the handhelds.org website and linuxtogo website, as well as very slow development. 

== Problems with the system today ==

The GPE code is entirely unmaintained and has dependencies which are unmaintained, for instance SQLite versions from around 2005.
It also has its main configuration program running as setuid root, which presents quite a large attack surface for a simple program.
It also depended on non-standard components such as /etc/timezone (this is not portable to systems not based on Debian, let alone
POSIX-compliant Unix-like systems). 

Additionally, certain libraries, that the suite depends on, ship with some terrible security issues, for instance old versions of sqlite.

The most immediate problems, however are with compiling the thing. There are simple issues with config.sub in the autoconf build system in many of the packages not understanding Alpine Linux's triples or any triple including the form "musl" or "armv6". There are more serious problems such as some of the packages not linking properly. This was the main problem in the end.

Another immediate problem is that the homepage for GPE is now gone. The source code archives that were used came from Debian. They are to my knowledge the latest (they shipped with Debian Wheezy, which came out in May 2013)

=== Programs and requisite libraries ===

In total, the following components were ported.

==== Programs ====

; gpe-announce
: Provides alarm support
; gpe-appmgr
: Manage apps, but it may be useless and depend on ipkg/opkg.
; gpe-calendar
: Simple calendar program. Useful on its own.
; gpe-clock
: Clock program. Useful on its own. Segfaults due to non-existence of /etc/timezone. Probably fixable.
; gpe-conf
: Central configuration program. SetUID root. Segfaults when other components are broken.
; gpe-contacts
: Contacts program. Useful on its own.
; gpe-edit
: Text editor. Useful on its own.
; gpe-gallery
: Image gallery. Useful on its own.
; gpe-icons
: GPE's icon set. Most of the other components depend on it.
; gpe-ownerinfo
: Set owner information. Designed to integrate with the login screen. Probably not useful without gpe-login.

==== Libraries and utilities ====

; audiofile
: Audio package which supports a large number of codecs and media types. Barely maintained.
; esound
: The Enlightened Sound Daemon. It was once the sound daemon for Enlightenment and GNOME. Now defunct and unmaintained.
; libcontactsdb
: Contacts database library
; libdisplaymigration
: Provides display migration support for GTK
; libeventdb
: Provides access to GPE calendar data
; libgpelaunch
: App launcher library
; libgpepimc
: Category management for GPE applications 
; libgpeschedule
: Provides access to scheduling data from gpe-schedule
; libgpevtype
: Data interchange library for GPE applications
; libgpewidget
: GPE widget library, a core component of the GPE suite
; libhandoff
: Used in the GPE Palmtop Environment to cause another program instance to come to the foreground. E.g. alarm triggers.
; libmimedir
: A MIME Directory Profile implementation
; libsoundgen
: GPE sound generator library.
; libtododb
: Provides access to gpe-todo's database
; libxsettings
: Implements the Xsettings protocol
; libxsettings-client
: Accesses the Xsettings protocol
; sqlite2
: Old sqlite version. Dependency on this is a bug - libgpeschedule is the sole program that would otherwise need to be refactored to work with sqlite3.

== Going forward ==

Porting GPE would be probably not be worth it, as it is wholly unmaintained and would need an audit, or, even better, a full rewrite. That being said, it would still be useful to finish porting certain components:

; gpe-login
: Login manager for GPE
: It needs to be made to link properly. Currently it does not seem to want to link with libx11 (despite patches that would otherwise make it do this) and does not link with Musl's obstack implementation.
; gpe-su
: Give programs root access after user authentication
; Miscellaneous
: There were once various programs designed to work with GPE that offer useful functionality e.g. gpe-sketch, gpe-calculator, gpe-expenses.
: It is not clear where the code is.

=== Priorities ===

* Fix dependency on that ancient sqlite version.
* Fix dependency on the enlightened sound daemon, and on the audiofile library.
* Make certain programs link properly.
* Fix security bugs.

== What about OPIE and others? ==

=== OPIE ===
OPIE is an alternative to GPE. It's similarly targeted at embedded systems and is similar in function. However, it uses QT Extended (QTE), which is no longer under active development, and does not compile on more recent systems, let alone under Musl.

* [https://github.com/opieproject/opie OPIE Project]

=== QTMoko ===
Another alternative is QTMoko. QTMoko is similar to OPIE but they forked QTE and now use a custom patched version of QT (Itself unmaintained). QTMoko is the fork of QTE for OpenMoko handsets. They are looking into moving away from this in the future, though, so this is probably a viable alternative.

* [https://www.mail-archive.com/gta04-owner@goldelico.com/ Main conversation about QTMoko for GTA04 owners]
* [https://www.mail-archive.com/gta04-owner@goldelico.com/msg00853.html Message about QTMoko potentially moving away from QTE]
* [http://projects.goldelico.com/p/gta04-qtmoko/ Maintained QTMoko (now at version 2)]

=== SHR ===
SHR is an OpenEmbedded-based system which combines Enlightenment with the freesmartphone stack, among other things. They use the illume2 Enlightenment module to make Enlightenment fit handhelds' form factor more easily, and provide an on-screen keyboard.

* [http://wiki.openmoko.org/wiki/SHR SHR overview]
* [http://wiki.openmoko.org/wiki/SHR_User_Manual SHR user manual]

== Relevant links ==

* [https://pkg-gpe.alioth.debian.org/ Debian GPE Packaging homepage]
* [https://pkg-gpe.alioth.debian.org/status.php Tracking status of GPE packages in Debian]
* [https://web.archive.org/web/20120218044923/http://www.kernelconcepts.de/~fuchs/gpe/doc/ Archived documentation for GPE]
* [https://web.archive.org/web/20171201032443/http://gpe.linuxtogo.org/ Archive of GPE development website]
* [https://github.com/duncanguthrie/pmbootstrap/tree/feature/gpe WIP branch]
* [http://wiki.openmoko.org/wiki/Distributions OpenMoko's list of distributions]
