{{Infobox device
| manufacturer = Motorola
| name = Moto E4
| codename = motorola-perry
| image = File:Perry.jpeg
| imagecaption = xfce4 running on Moto E4
| releaseyear = 2017
| originalsoftware = Android 7.1
| chipset = Qualcomm MSM8920 Snapdragon 427
| cpu = 4x 1.4 GHz Cortex-A53
| gpu = Adreno 308
| storage = 16 GB
| display = 720x1280 IPS LCD
| memory = 2 GB
| architecture = aarch64
<!-- the following status_* questions should be answered with Y - yes, P - partial, N - no, or left blank (for untested or unknown) -->
| status_usbnet = Y
| status_flashing = Y
| status_touch = Y
| status_screen = Y
| status_wifi = Y
| status_xwayland = Y
| status_fde = 
| status_mainline = 
| status_battery = 
| status_3d = 
| status_accel = 
| status_audio = 
| status_bluetooth = 
| status_camera = 
| status_gps = 
| status_mobiledata = 
| status_sms = 
| status_calls = 
| status = 
| booting = yes
| status_otg = Y
| pmoskernel = 3.18.140
}}

== Contributors ==
*lastramses

== Maintainer(s) ==
<!-- Only if this device doesn't run on linux-postmarketos yet! -->
<!-- This person needs to be willing to answer questions from users of this device -->

== Users owning this device ==
{{Device owners}}
<!-- autogenerated, use {{Owns device|devicepage|notes}} on your profile page -->
<!-- use _ instead of spaces in device page name, e.g. {{Owns device|HTC_Desire_(htc-bravo)|custom notes}}-->
<!-- you may need to purge page cache to see changes (more->purge cache)-->
<!-- you can use {{My devices}} on your profile page to show table with all your devices -->

== How to enter flash mode ==
hold Power On and Volume Down buttons while device is powered off.

The device has to be unlocked before images can be replaced. It is strongly suggested to use TWRP recovery (twrp-perry-3.2.1-r1.img verified to work) if debugging is necessary. 
If the device does not boot it is possible to access log from last attempt at sys/fs/pstore/console-ramoops via TWRP.

== Installation ==
the port has been done on the SKU: XT1766 of the Motorola E4 (Perry) version<br>
<code>$ pmbootstrap install</code><br>
plug the device to computer and switch it to the fastboot mode <br>
<code>$ pmbootstrap flasher flash_kernel</code><br>
<code>$ pmbootstrap flasher flash_rootfs</code><br>
finally run <code>$ pmbootstrap flasher boot</code> or reset the device<br>

Device should boot with display and be accessible via ssh @172.16.42.1 

== Additional information ==
Normally display should work without any modification but at the time of writing there was a compatibility issue with Xorg packages (particularly Xorg-server) in the EDGE repository.
To resolve the issue after flashing the phone postmarketos-ui-xfce4 and Xorg-server packages have been removed and installed from 3.11/main repository.

== See also ==
* {{MR|1111|pmaports}} Initial merge request
<!--
Link to related GitLab issues or merge requests like the following (replace CHANGEME with the ID, e.g. 1234):
* {{MR|CHANGEME|pmaports}} Initial merge request
* {{issue|CHANGEME|pmaports}} Some related issue
You can also add normal web links:
* [https://redmine.replicant.us/projects/replicant/wiki/GalaxyS2I9100 Replicant wiki page]
-->
<!--
If you manage to get your device packages merged, uncomment links below and change DEVICE_CODENAME with the actual one.
* [https://gitlab.com/postmarketOS/pmaports/tree/master/device/testing/device-DEVICE_CODENAME Device package]
* [https://gitlab.com/postmarketOS/pmaports/tree/master/device/testing/linux-DEVICE_CODENAME Kernel package]
-->
